;; -*-Emacs-lisp-*-
(require 'yasnippet)
(setq yas-snippet-dirs
      '(
       	"~/.emacs.d/snippets/"		;personal snippers.
       	"~/.emacs.d/elpa/yasnippet-snippets-20200802.1658/snippets/" ;extra package collection.
       	)
      )
;; global enable `aggressive-indent-mode'
(global-aggressive-indent-mode 1)
;; 将html mode 排除在外
;; (add-to-list 'aggressive-indent-excluded-modes 'html-mode)
(yas/global-mode 1)
(yas-reload-all)
(add-hook 'prog-mode-hook #'yas-minor-mode)

;; 在ORG MODE里面 yas-expand 巨恶心，只能取消下。
;; https://joaotavora.github.io/yasnippet/snippet-expansion.html#org87a6f68
(define-key yas-minor-mode-map (kbd "<tab>") nil)
(define-key yas-minor-mode-map (kbd "TAB") nil)

;; Bind `SPC' to `yas-expand' when snippet expansion available (it
;; will still call `self-insert-command' otherwise).
;;(define-key yas-minor-mode-map (kbd "SPC") yas-maybe-expand)
;; Bind `C-c y' to `yas-expand' ONLY.
;;(define-key yas-minor-mode-map (kbd "C-c y") #'yas-expand)
(provide 'init-yasnippet)
