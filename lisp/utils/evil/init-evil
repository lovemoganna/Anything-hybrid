;;; init-evil --- summary  -*-Emacs-lisp-*-

;; Copyright (C) 2020 Mr.Revolt

;; Author: Mr.Revolt
;; Keywords: keybinding configuration

;;; Commentary:

;; Anything Keybinding configuration

;;; Code:

(require 'evil)
(require 'evil-leader)

(global-evil-leader-mode)
(evil-mode 1)

;; define evil key binding
(define-key evil-ex-map "o" 'helm-occur)

(setq evil-insert-state-cursor '((bar . 3) "orange red")
      evil-normal-state-cursor '(box "purple"))

(defun open-my-init-file()
  "快速打开配置文件."
  (interactive)
  (find-file "~/.emacs.d/init.el")
  (eval-buffer)
  (find-file "~/.emacs.d/lisp/init-package.org")
  )

;; vim command cookbook: http://tnerual.eriogerg.free.fr/vimqrc.pdf

(defalias 'sc 'shell-command)
(defun gif-record()
  "在当前文件夹中生成GIF图."
  (interactive)
  (sc "~/.emacs.d/lisp/private/shell_tools/byzanz-record-region.sh 10 'screen'_$(date +'%Y.%m.%d-%H:%M:%S').gif")
  (message "GIF 图生成在当前的文件夹")
  )

;; need install general.el package from melpa
(general-define-key
 :keymaps '(normal insert emacs)
 :prefix "SPC"
 :non-normal-prefix "M-SPC"
 "b" '(:ignore t :which-key "buffers")
 "f" '(:ignore t :which-key "files")
 "n" '(:ignore t :which-key "neotree")
 "g" '(:ignore t :which-key "script")
 "c" '(:ignore t :which-key "company")
 "u" '(:ignore t :which-key "unix")
 "c i" 'toggle-company-english-helper
 "n t" 'neotree-toggle
 "n d" 'neotree-dir
 "f e d" 'open-my-init-file
 "b k" 'buf-move-up
 "b j" 'buf-move-down
 "b h" 'buf-move-left
 "b l" 'buf-move-right
 "u s" 'unix-sync
 "g b" 'shell-command-on-buffer
 "g r" 'gif-record
 "b d" 'kill-buffer-and-window)

;; test the super key.
(general-define-key
 :prefix "s-c"
 "a" 'org-agenda
 "c" 'org-capture
 )

(general-define-key
 :prefix "H-<return>"
 :keymaps '(yas-minor-mode-map normal insert emacs)
 "i" 'sdcv-search-input+
 "RET" 'insert-translated-name-insert
 "SPC" 'yas-maybe-expand
 "y" #'yas-expand
 )

;;(define-key yas-minor-mode-map (kbd "C-c y") #'yas-expand)
;; (global-set-key (kbd "H-<return>") 'insert-translated-name-insert) ; H is for hyper(global-set-key (kbd "s-b") 'ba)

;; define ace window keybinding
;; cause me use evil-mode,so don't need ace jump.

(general-define-key
 :keymaps '(normal)
 :prefix "C-w"
 "C-w" 'ace-window
 "s" 'ace-swap-window
 "d" 'ace-delete-window
 "o" 'ace-delete-other-windows
 "v" (lambda ()
       (interactive)
       (split-window-right)
       (windmove-right))
 "x" (lambda ()
       (interactive)
       (split-window-below)
       (windmove-down))
 "h" 'windmove-left
 "j" 'windmove-down
 "k" 'windmove-up
 "l" 'windmove-right
 )

(provide 'init-evil)

;;; init-evil ends here
